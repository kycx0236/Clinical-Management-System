{% extends "base.html" %}
{% block title %}DocCare | Dashboard{% endblock title %}
{% block link %} <link rel="stylesheet" href="{{ url_for('static', filename='medtech_style.css') }}"> {% endblock %}
{% block content %}
    <div class="sidenav-bg">
        <div class="cms-logo">
            <img src="{{ url_for('static', filename='/images/DocCare Logo.png') }}">
            <p class="doc">Doc</p>
            <h4 class="care">Care</h4>
        </div>
        <ul>
            <li class="selected-icon-bg">
                <img src="{{ url_for('static', filename='images/Dashboard.png') }}"> 
                <p>Dashboard</p>
            </li>
            <a href="{{ url_for('medtech.patient') }}">
                <li class="icon-bg">
                    <img src="{{ url_for('static', filename='images/Patient Record.png') }}"> 
                    <p>Patient</p>
                </li>
            </a>
            <a href="{{ url_for('medtech.profile') }}">
                <li class="icon-bg">
                    <img src="{{ url_for('static', filename='images/Profile.png') }}"> 
                    <p>Profile</p>
                </li>
            </a>
        </ul>
        <div class="sidenav-user-bg">
            <img src="{{ url_for('static', filename='images/user.jpg') }}" class="user-img">
            <div>
                <h3>Eda Grace P.</h3>
                <p>Medtech</p>
            </div>
        </div>
        <ul>
            <a href="{{ url_for('medtech.logout') }}">
                <li class="logout">
                    <img src="{{ url_for('static', filename='images/Logout.png') }}">
                    <p>Logout</p>
                </li>
            </a>
        </ul>
    </div>

    <!-- DASHBOARD -->
    <p class="date-time medtech" id="demo"></p>

    <!-- LABORATORY TEST REQUEST -->
    <div class="request-header">
        <p>LABORATORY TEST REQUEST</p>
    </div>

    <div class="patient-table request">
        <table id="example" class="table table-striped" style="width:100%">
            <thead>
                <tr>
                    <th>FIRST NAME</th>
                    <th>LAST NAME</th>
                    <th>GENDER</th>
                    <th>AGE</th>
                    <th>PHYSICIAN</th>
                    <th>REQUEST</th>
                    <th>ACTION</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>SAFIYA</td>
                    <td>PARAGOSO</td>
                    <td>FEMALE</td>
                    <td>13</td>
                    <td>EDA GRACE PARAGOSO</td>
                    <td>
                        <!-- RECORD LAB TEST RESULTS -->
                        <a href="#">
                            <div class="delete-icon">
                                <img src="{{ url_for('static', filename='images/Lab Request.png') }}">
                            </div>
                        </a>
                    </td>
                    <td>
                        <!-- DELETE RECORD -->
                        <a href="#">
                            <div class="delete-icon">
                                <img src="{{ url_for('static', filename='images/Delete.png') }}">
                            </div>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div> 

    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src=" https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script>
        new DataTable('#example');
    </script>

    <script>
        function displayDateAndTime() {
        const demoElement = document.getElementById('demo');

            function updateDateAndTime() {
                const currentDateAndTime = new Date();
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const formattedDateAndTime = currentDateAndTime.toLocaleDateString(undefined, options);
                const currentTime = currentDateAndTime.toLocaleTimeString();

                demoElement.innerHTML = `TODAY IS ${formattedDateAndTime.toUpperCase()}<br>${currentTime}`;
            }
            updateDateAndTime();
            setInterval(updateDateAndTime, 1000);
        }

        displayDateAndTime();   
    </script>
    
{% endblock %}